---
const { title, description } = Astro.props;
const siteTitle = title ? `${title} | Thucydides Daily Reader` : 'Thucydides Daily Reader';
const siteDescription = description || "A daily reader of Thucydides' History of the Peloponnesian War with modern translation and scholarly enrichment";
const siteUrl = 'https://thucydides.caseyjr.org';
const currentUrl = new URL(Astro.url.pathname, siteUrl).href;
const ogImage = `${siteUrl}/og-image.png`;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{siteTitle}</title>
  <meta name="description" content={description || "A daily reader of Thucydides' History of the Peloponnesian War with modern translation and scholarly enrichment"}>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content={currentUrl}>
  <meta property="og:title" content={siteTitle}>
  <meta property="og:description" content={siteDescription}>
  <meta property="og:image" content={ogImage}>
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content={currentUrl}>
  <meta property="twitter:title" content={siteTitle}>
  <meta property="twitter:description" content={siteDescription}>
  <meta property="twitter:image" content={ogImage}>
  
  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="Thucydides Daily Reader" href="/rss.xml">
  
  <!-- Google Fonts: Cormorant Garamond -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  
  <style is:global>
    :root {
      /* Colors */
      --bg-primary: #FAFAF8;
      --text-primary: #1A1A1A;
      --text-muted: #333333;
      --border-color: #E5E5E5;
      --accent-blue: #2C5F7C;
      --accent-red: #C41E3A;
      
      /* Typography */
      --font-serif: 'Cormorant Garamond', serif;
      --font-sans: 'Inter', system-ui, sans-serif;

      /* Spacing */
      --max-width: 1200px;
      --reading-width: 75ch;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: var(--font-sans);
      font-size: 18px;
      line-height: 1.7;
      color: var(--text-primary);
      background-color: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-serif);
      font-weight: 600;
      line-height: 1.3;
      margin-bottom: 0.75em;
      color: #111;
    }
    
    h1 { font-size: 2.5rem; }
    h2 { font-size: 2rem; }
    h3 { font-size: 1.5rem; }
    
    p {
      margin-bottom: 1em;
    }
    
    a {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: all 0.2s ease;
    }
    
    a:hover {
      border-bottom-color: currentColor;
    }
    
    /* Internal links (navigation, themes) */
    a.internal {
      color: var(--accent-blue);
    }
    
    /* External links (annotations, references) */
    a.external {
      color: var(--accent-red);
    }
    
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    /* Header */
    header {
      border-bottom: 1px solid var(--border-color);
      padding: 2rem 0;
      margin-bottom: 3rem;
    }
    
    .site-title {
      text-align: center;
      line-height: 1;
    }

    .site-title a {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      border: none;
    }

    .site-title a:hover {
      border: none;
    }

    .title-main {
      font-family: 'Cinzel', serif;
      font-size: 3.5rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      color: var(--text-primary);
    }

    .title-sub {
      font-family: 'Cinzel', serif;
      font-size: 1.5rem;
      font-weight: 400;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-muted);
    }
    
    nav {
      font-family: var(--font-sans);
      font-size: 0.9rem;
      text-align: center;
      margin-top: 1rem;
    }
    
    nav a {
      margin: 0 1rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    /* Footer */
    footer {
      border-top: 1px solid var(--border-color);
      margin-top: 4rem;
      padding: 2rem 0;
      font-family: var(--font-sans);
      font-size: 0.9rem;
      color: var(--text-muted);
      text-align: center;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1 class="site-title">
        <a href="/">
          <span class="title-main">Thucydides</span>
          <span class="title-sub">Daily Reader</span>
        </a>
      </h1>
      <nav>
        <a href="/" class="internal">Home</a>
        <a href="/passages" class="internal">All Passages</a>
        <a href="/about" class="internal">About</a>
        <a href="/themes" class="internal">Themes</a>
      </nav>
    </div>
  </header>
  
  <main class="container">
    <slot />
  </main>

  <footer>
    <div class="container">
      <p>
        A daily reader of Thucydides' <em>History of the Peloponnesian War</em><br>
        Modern translation and enrichment by Claude (Anthropic) • Original translation by Richard Crawley<br>
        <a href="https://github.com/miguelito4/thucydides" class="external" target="_blank" rel="noopener">Open source on GitHub</a> • 
        <a href="https://caseyjr.org" class="external">caseyjr.org</a>
      </p>
    </div>
  </footer>
</body>
</html>
